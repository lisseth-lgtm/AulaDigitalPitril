{% extends "base.html" %}
{% block title %}Calificaciones{% endblock %}

{% block content %}
<h3>Ingresar Calificaciones</h3>

<form method="POST" class="row g-3 bg-white p-3 rounded shadow">
  <div class="col-md-4">
    <label class="form-label">Alumno</label>
    <select name="alumno_id" class="form-select">
      {% for a in alumnos %}
      <option value="{{ a.id }}">{{ a.nombre }} — {{ a.curso }}</option>
      {% endfor %}
    </select>
  </div>
  <div class="col-md-4">
    <label class="form-label">Asignatura</label>
    <select name="asignatura" class="form-select">
      {% for s in asignaturas %}
      <option>{{ s.nombre }}</option>
      {% endfor %}
    </select>
  </div>
  <div class="col-md-2">
    <label class="form-label">Nota</label>
    <input name="nota" type="number" step="0.1" class="form-control" required>
  </div>
  <div class="col-md-2 align-self-end">
    <button class="btn btn-success w-100">Registrar</button>
  </div>
</form>

<hr>

<h5>Últimas notas</h5>
<table class="table table-striped">
  <thead class="table-light"><tr><th>Alumno</th><th>Asignatura</th><th>Nota</th><th>Fecha</th></tr></thead>
  <tbody>
    {% for row in get_recent_notes() %}
    <tr><td>{{ row.nombre }}</td><td>{{ row.asignatura }}</td><td>{{ row.nota }}</td><td>{{ row.fecha }}</td></tr>
    {% endfor %}
  </tbody>
</table>

{% endblock %}
